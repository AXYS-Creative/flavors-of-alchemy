backend:
  # Use netlify identity as backend
  name: "git-gateway"
  branch: "main"
media_folder: "src/static/img"
public_folder: "/static/img"
site_url: https://sacredbreathalchemy.netlify.app # On admin login page, this adds a 'go back to site' link. Also added in the corner when logged in.
display_url: https://sacredbreathalchemy.netlify.app # In admin dashboard, this addes the URL in the corner. Used with 'preview_path' for collection viewing.
logo_url: https://sacredbreathalchemy.netlify.app/static/img/admin-logo.svg # On admin login page, this adds a custom logo.

# Please run "npx netlify-cms-proxy-server" for local backend
local_backend: true
# publish_mode: editorial_workflow
collections:
  - name: "blog"
    label: "Blog"
    folder: "src/posts"
    preview_path: "posts/blog/{{filename}}/"
    create: true
    editor:
      preview: false
    fields:
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Description", name: "description", widget: "string" }
      - { label: "Author", name: "author", widget: "string" }
      - { label: "Publish Date", name: "date", widget: "datetime" }
      - { label: "Body", name: "body", widget: "markdown" }
      - widget: select
        label: "tags"
        name: "tags"
        multiple: true
        create: true
        options: ["Tags", "created", "from", "config.yml"]
      - label: "Cover Image" # Only seems to work with .md collections
        name: "image"
        widget: "image"
        required: false
  - name: "resources_page"
    label: "Resources Page"
    files:
      - name: "resource_list"
        label: "Resource List"
        file: "src/_data/resource_list.yaml"
        preview_path: "/resources#resources-list"
        editor:
          preview: false
        fields:
          - name: "services"
            label: "Services"
            label_singular: "Service"
            widget: "list"
            collapsed: false
            fields:
              - label: "Category"
                name: "tag"
                widget: select
                multiple: false
                options: ["Physical", "Emotional", "Financial"]
                default: ["Add Category"]
              - { name: "title", label: "Title", widget: "string" }
