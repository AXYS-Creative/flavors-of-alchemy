backend:
  # Use netlify identity as backend
  name: "git-gateway"
  branch: "main"
  repo: "https://github.com/AXYS-Creative/sacred-breath-alchemy"
media_folder: "src/static/img"
public_folder: "/static/img"
site_url: https://sacredbreathalchemy.netlify.app # On admin login page, this adds a 'go back to site' link. Also added in the corner when logged in.
display_url: https://sacredbreathalchemy.netlify.app # In admin dashboard, this addes the URL in the corner. Used with 'preview_path' for collection viewing.
logo_url: https://sacredbreathalchemy.netlify.app/static/img/admin-logo.svg # On admin login page, this adds a custom logo.

# Please run "npx netlify-cms-proxy-server" for local backend
local_backend: true
# publish_mode: editorial_workflow
collections:
  - name: "blog"
    label: "Blog"
    folder: "src/posts"
    preview_path: "posts/blog/{{filename}}/"
    create: true
    editor:
      preview: false
    fields:
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Description", name: "description", widget: "string" }
      - { label: "Author", name: "author", widget: "string" }
      - { label: "Publish Date", name: "date", widget: "datetime" }
      - { label: "Body", name: "body", widget: "markdown" }
      - widget: select
        label: "tags"
        name: "tags"
        multiple: true
        create: true
        options: ["Tags", "created", "from", "config.yml"]
      - label: "Cover Image" # Only seems to work with .md collections
        name: "image"
        widget: "image"
        required: false
  - name: "page_content"
    label: "Page Content"
    description: >
      Modify site content here
    files:
      - name: "text_block_1"
        label: "Text Block 1"
        file: "src/_data/text_block_1.yaml"
        preview_path: "#text-block-1"
        editor:
          preview: true
        fields:
          - name: "paragraph_lines"
            label: "Paragraph Lines"
            label_singular: "Line"
            widget: "list"
            collapsed: false
            max: 4
            fields:
              - { name: "line", label: "Line", widget: "string" }
      - name: "services_section"
        label: "Services Section"
        file: "src/_data/services_section.yaml"
        preview_path: "#services"
        editor:
          preview: true
        fields:
          - name: "services"
            label: "Services"
            label_singular: "Service"
            widget: "list"
            collapsed: false
            fields:
              - {
                  name: "title",
                  label: "Title",
                  widget: "string",
                  required: true,
                }
              - {
                  name: "symbol",
                  label: "Alchemy Symbol",
                  widget: "string",
                  required: false,
                  hint: "Optional alchemy symbol at the end of the title. https://glyphy.io/cool-symbols/alchemy",
                }
              - {
                  name: "description",
                  label: "Description",
                  widget: "text",
                  hint: "Try to keep it under 180 characters if you can.",
                  required: true,
                }
